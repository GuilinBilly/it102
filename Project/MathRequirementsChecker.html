<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Math Requirements Checker</title>
</head>
<body>

<h1>Math Requirements Checker</h1>
<p>Enter your most recent or highest math course to check if you meet the BAS math requirement.</p>
<!--Basic form: Student types your math course like MAT146-->
<form id="mathForm" onsubmit="main(); return false;">
  <label for="courseInput">Math Course:</label>
  <input type="text" id="courseInput" name="courseInput" placeholder="e.g., MATH146">
  <button type="submit">Check Eligibility</button>
</form>
<!--The place to display the result message-->
<div id="result"></div>

<script>
  // -----------------------------
  // Courses stored as objects (dot notation friendly)
  // -----------------------------
  var allMathCourses = {
    MATH080: { name: "Preparatory Math", qualifies: false, next: "MATH098" },
    MATH081: { name: "Basic Math", qualifies: false, next: "MATH084" },
    MATH084: { name: "Algebra I", qualifies: false, next: "MATH085" },
    MATH085: { name: "Algebra II", qualifies: false, next: "MATH097" },
    MATH097: { name: "Elementary Algebra", qualifies: false, next: "MATH098" },
    MATH098: { name: "Intermediate Algebra", qualifies: false, next: "MATH141" },
    MATH099: { name: "Essentials of Intermediate Algebra", qualifies: false, next: "MATH141" },
    MATH107: { name: "Math in Society", qualifies: false, next: "MATH146" },
    MATH116: { name: "Applications of Math", qualifies: false, next: "MATH141" },
    MATH141: { name: "Precalculus I", qualifies: false, next: "MATH142" },
    MATH142: { name: "Precalculus II", qualifies: false, next: "MATH151" },
    MATH146: { name: "Elementary Statistics", qualifies: true, next: "MATH141" },
    MATH148: { name: "Business Calculus", qualifies: false, next: "MATH211" },
    MATH151: { name: "Calculus I", qualifies: true, next: "MATH152" },
    MATH152: { name: "Calculus II", qualifies: true, next: "MATH163" },
    MATH163: { name: "Calculus III", qualifies: true, next: "MATH220" },
    MATH211: { name: "Elements of Statistical Methods", qualifies: true, next: "" },
    MATH220: { name: "Linear Algebra", qualifies: true, next: "MATH224" },
    MATH224: { name: "Vector Calculus", qualifies: true, next: "MATH238" },
    MATH238: { name: "Differential Equations", qualifies: true, next: "" }
  };

  // -----------------------------
  // Main function
  // -----------------------------
  function main() {
    // PSEUDOCODE:
    // 1. Get a validated course key from the list.
    var course = getCourseNumber();
    // 2. Prepare a results object.
    var results;
    // 3. If the course is invalid (null) â†’ create a "not met"trsult.
    if (course === null) {
      results = {
        course: null,
        meets: false,
        nextMathCourse: ""
      };
    } else {
    // 4. Otherwise, check if this course meets the requirement.
      results = checkEligibility(course);
    }
    // 5. Display results on the page.
    displayResults(results);
  }

  // -----------------------------
  // Get course from form and validate
  // -----------------------------
  function getCourseNumber() {
    // PSEUDOCODE:
    // 1. Get user input value (use getElementById)
    var inputElement = document.getElementById("courseInput");
    
    // 2. Get the raw string value from the input.
    var rawValue = inputElement.value;
    // 3. If the input is empty, return null.
    if (!rawValue) {
      return null;
    }
    // 4. Clean the input: trim spaces and convert to uppercase, remove inner space
    var cleaned = rawValue.trim().toUpperCase();
    cleaned = cleaned.replace(/\s+/g,"");
    // 5. Check if this cleaned string is a key in allMathCourses.
    if (!allMathCourses.hasOwnProperty(cleaned)) {
      //If not found, return null (invalid course).
      return null;
    }
    // 6. Otherwise return the valid key
      return cleaned;
  }

  // -----------------------------
  // Check if course meets requirement
  // -----------------------------
  function checkEligibility(course) {
    // PSEUDOCODE:
    // 1. Access the course object in allMathCourses
    var courseObj = allMathCourses[course];
    // 2. Safety check: if no course object, return "not met".
    if (!courseObj) {
      return {
        course: null,
        meets: false,
        nextMathCourse:""
      };
    }
    // 3. If this course qualifies (true), return meets = true.
    if (courseObj.qualifies === true){
      return {
        course: course,
        meets: true,
        nextMathCourse: courseObj.next
      };
    } else {
      
    // 4. Otherwise, return meets = false and suggest the next course.
      return {
        course: course,
        meets: false,
        nextMathCourse: courseObj.next
      };
    }
  }

  // -----------------------------
  // Display results using innerHTML
  // -----------------------------
  function displayResults(results) {
    // PSEUDOCODE:
    // 1. Get resultDiv (use getElementById)
    var resultDiv = document.getElementById("result");
    // 2. Build an HTML message.
    var html ="";
    // Case A: invalid course (null)
    if (results.course === null) {
      html = "<p>Please enter a valid math course (for example:" +
             "<strong>MATH097</strong>, <strong>MATH146</strong>, <strong>MATH151</strong>)." +
             "</p>";
    }
     // Case B: course meets the requirement
     else if (results.meets === true) {
       html = "<p><strong>Congratulations!</strong> Your course <strong>" +
              results.course +
              "</strong> meets the math requirement for the BAS in Application Development.</p>";
  
  }
     //Case C: course is valid but does not meet requirement
    else {
        html = "<p>Your course <strong>" + results.course +
               "</strong> does <strong>not yet</strong> meet the BAS math requirement." + 
               "You should next take <strong>" + results.nextMathCourse + "</strong>.</p>";
         }
        
      // 3. Show the HTML inside the result <div>.
      resultDiv.innerHTML = html;
  }
    
  </script>

</body>
</html>
